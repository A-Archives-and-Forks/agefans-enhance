# agefans enhance

增强agefans播放功能，实现自动换集、无缝换集、画中画、历史记录、断点续播、显示视频源、获取当前页面全部视频等功能

**请使用 <kbd>?</kbd> 键查看脚本信息与快捷键**

**请使用 <kbd>?</kbd> 键查看脚本信息与快捷键**

**请使用 <kbd>?</kbd> 键查看脚本信息与快捷键**

## 安装

[Greasy Fork链接，点击安装](https://greasyfork.org/zh-CN/scripts/424023-agefans-enhance)

## 特性

- 防止打开`devtools`时自动跳转主页（见下面注意事项）
- 调整播放器外边框,改成16/9隐藏黑条
- 网页全屏时隐藏滚动条
- 获取当前页面全部视频
- 迅雷合并下载视频
- 替换网页的播放器，实现以下功能
  - 增加自动换集功能
  - 增加画中画功能
  - 增加记录播放历史功能，可在顶部【历史】菜单中查看
  - 支持继续播放
  - 提前获取下一集的视频链接，实现局部刷新
  - 可以按 <kbd>?</kbd> 键调出脚本信息窗口，查看**视频信息**与**快捷键**
  - 按 <kbd>esc</kbd> 键可以更快的退出全屏/宽屏/弹窗

## 待做事项

- 暂无，欢迎提交意见（[issue](https://github.com/IronKinoko/agefans-enhance/issues)）

## 注意事项

### agefans 防止打开`devtools`时自动跳转主页

为实现这个功能，会替换掉用户自己的登录状态。当然你可以之后再重新登录自己的账号

在首页打开控制台，输入下面这段代码

```javascript
document.cookie="username=admin; path=/;max-age=9000000"
```

## 常见问题

### 1. 为什么我点击视频链接是直接打开了新页面，而不是下载？

因为`agefans`提供的链接都是第三方资源，浏览器的安全策略是禁止直接下载的。

所以请用右键**链接另存为**下载资源。

### 2. 为什么部分视频资源加载失败了？

目前这种情况大多数是因为`agefans`本身提供的资源就有问题。可以尝试暂时关闭脚本，测试链接是否正常。

如果关闭脚本后能正常观看，欢迎提交issue给我。（按 <kbd>?</kbd> 键选择提交issue）
